<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Ç–µ–Ω—Ç –ó–∞–≤–æ–¥ ‚Äî –î–∞—à–±–æ—Ä–¥</title>
    <style>
        :root { --bg: #0a0a0a; --card: #161616; --accent: #00ff88; --text: #ececec; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { border-left: 5px solid var(--accent); padding-left: 15px; margin-bottom: 30px; }
        
        /* –°–µ–∫—Ü–∏—è –≤–≤–æ–¥–∞ –∫–ª—é—á–∞ */
        #auth-screen { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 80vh; }
        input { background: #222; border: 1px solid #444; color: white; padding: 12px; border-radius: 8px; width: 300px; margin-bottom: 10px; }
        button { background: var(--accent); color: black; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        
        /* –°–µ—Ç–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞ */
        #dashboard { display: none; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .card { background: var(--card); padding: 20px; border-radius: 15px; border: 1px solid #222; transition: 0.3s; }
        .card:hover { border-color: var(--accent); transform: translateY(-5px); }
        .platform { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: var(--accent); margin-bottom: 10px; display: block; }
        .stat-val { font-size: 32px; font-weight: bold; margin: 10px 0; }
        .stat-label { color: #888; font-size: 14px; }
        .logout { font-size: 12px; color: #ff4444; cursor: pointer; text-decoration: underline; margin-top: 20px; display: block; }
    </style>
</head>
<body>

<div class="container">
    <div id="auth-screen">
        <h2>üè≠ –ö–æ–Ω—Ç–µ–Ω—Ç –ó–∞–≤–æ–¥</h2>
        <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á üëá </p>
        <input type="password" id="api-key-input" placeholder="blt_...">
        <button onclick="saveKey()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</button>
    </div>

    <div id="dashboard">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1>–ö–æ–Ω—Ç–µ–Ω—Ç –ó–∞–≤–æ–¥ ‚Äî –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
            <span class="logout" onclick="logout()">–°–º–µ–Ω–∏—Ç—å –∫–ª—é—á</span>
        </div>
        
        <div id="stats-grid" class="grid">
            </div>
    </div>
</div>

<script>
    const authScreen = document.getElementById('auth-screen');
    const dashboard = document.getElementById('dashboard');
    const statsGrid = document.getElementById('stats-grid');

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.onload = () => {
        const savedKey = localStorage.getItem('blotato_key');
        if (savedKey) {
            showDashboard(savedKey);
        }
    };

    function saveKey() {
        const key = document.getElementById('api-key-input').value;
        if (key.startsWith('blt_')) {
            localStorage.setItem('blotato_key', key);
            showDashboard(key);
        } else {
            alert('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞. –û–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å blt_');
        }
    }

    async function showDashboard(key) {
        authScreen.style.display = 'none';
        dashboard.style.display = 'block';
        statsGrid.innerHTML = 'üîß –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É...';

        try {
            // –ó–∞–ø—Ä–æ—Å –∫ Blotato (–∏—Å–ø–æ–ª—å–∑—É–µ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–∑ –¥–æ–∫–æ–≤)
            const response = await fetch('https://api.blotato.com/v1/accounts', {
                headers: { 'Authorization': `Bearer ${key}` }
            });
            const accounts = await response.json();
            renderStats(accounts);
        } catch (err) {
            statsGrid.innerHTML = '<p style="color:red">–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á –∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ API.</p>';
        }
    }

    function renderStats(accounts) {
        // –ï—Å–ª–∏ API –≤–µ—Ä–Ω—É–ª–æ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –æ—à–∏–±–∫—É, –ø–æ–∫–∞–∂–µ–º –∑–∞–≥–ª—É—à–∫—É –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
        if (!accounts || accounts.length === 0) {
            statsGrid.innerHTML = '<p>–ê–∫–∫–∞—É–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏—Ö –≤ Blotato.</p>';
            return;
        }

        statsGrid.innerHTML = accounts.map(acc => `
            <div class="card">
                <span class="platform">${acc.platform}</span>
                <div class="stat-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
                <div style="font-weight:bold; margin-bottom:15px;">${acc.username || '–ë–µ–∑ –∏–º–µ–Ω–∏'}</div>
                
                <div class="stat-label">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤–∏–¥–µ–æ</div>
                <div class="stat-val">${acc.total_posts || 0}</div>
                
                <div class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã (Total)</div>
                <div class="stat-val" style="color: #00d4ff;">${acc.metrics?.views || '‚ö° 0'}</div>
            </div>
        `).join('');
    }

    function logout() {
        localStorage.removeItem('blotato_key');
        location.reload();
    }
</script>

</body>
</html>